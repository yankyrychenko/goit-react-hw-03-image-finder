{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Button/Button.js","services/pixabay-api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","images","onClick","map","id","webformatURL","src","alt","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","document","querySelector","Button","fetchImages","searchQuery","currentPage","axios","get","then","response","data","hits","App","largeImage","isLoading","showModal","onSearchImages","onFetchImages","fetchedImages","prevState","scrollTo","top","documentElement","scrollHeight","behavior","finally","openImage","currentId","currentImg","find","image","largeImageURL","toggleModal","prevProps","shouldRenderLoadMoreButton","length","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.57d0aaf0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1C-z-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={s['Searchbar']}>\n        <form className={s['SearchForm']} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s['SearchForm-button']}>\n            <span className={s['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            className={s['SearchForm-input']}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = { onSubmit: PropTypes.func.isRequired };\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ children }) => {\n  return <ul className={s['ImageGallery']}>{children}</ul>;\n};\n\nImageGallery.propTypes = { children: PropTypes.element.isRequired };\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ images, onClick }) => {\n  return images.map(({ id, webformatURL }) => (\n    <li className={s['ImageGalleryItem']} key={id} onClick={() => onClick(id)}>\n      <img className={s['ImageGalleryItem-image']} src={webformatURL} alt=\"\" />\n    </li>\n  ));\n};\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n    }),\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s['Overlay']} onClick={this.handleBackdropClick}>\n        <div className={s['Modal']}>\n          <img src={this.props.src} alt=\"\" />\n        </div>\n      </div>,\n      document.querySelector('#modal-root'),\n    );\n  }\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={s['Button']} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = { onClick: PropTypes.func.isRequired };\n\nexport default Button;\n","import axios from 'axios';\n\nexport function fetchImages(searchQuery, currentPage) {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=20084320-731f9d372c1a5afe5fa0892cc&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n}\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Modal from './components/Modal';\nimport Button from './components/Button';\nimport Loader from 'react-loader-spinner';\nimport { fetchImages } from './services/pixabay-api';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    largeImage: '',\n    currentPage: 1,\n    isLoading: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) this.onFetchImages();\n  }\n\n  onSearchImages = query => {\n    this.setState({\n      images: [],\n      searchQuery: query,\n      currentPage: 1,\n    });\n  };\n\n  onFetchImages = e => {\n    this.setState({ isLoading: true });\n\n    fetchImages(this.state.searchQuery, this.state.currentPage)\n      .then(fetchedImages => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...fetchedImages],\n          currentPage: prevState.currentPage + 1,\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  openImage = currentId => {\n    const currentImg = this.state.images.find(image => image.id === currentId);\n    this.setState({ largeImage: currentImg.largeImageURL });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  render() {\n    const shouldRenderLoadMoreButton =\n      this.state.images.length > 0 && !this.state.isLoading;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onSearchImages} />\n\n        <ImageGallery>\n          <ImageGalleryItem\n            images={this.state.images}\n            onClick={this.openImage}\n          />\n        </ImageGallery>\n\n        {shouldRenderLoadMoreButton && <Button onClick={this.onFetchImages} />}\n\n        {this.state.isLoading && (\n          <Loader type=\"Circles\" color=\"#3f51b5\" height={80} width={80} />\n        )}\n\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal} src={this.state.largeImage}></Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './style.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3u-rY\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2bzU3\",\"SearchForm-input\":\"Searchbar_SearchForm-input__j6qzO\"};"],"sourceRoot":""}